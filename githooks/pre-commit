#!/bin/bash
# Windowsç”¨Git Hooksã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

# ã‚³ãƒãƒ³ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
run_command() {
  cmd.exe /c "$1"
  if [ $? -ne 0 ]; then
    echo "âŒ ã‚³ãƒãƒ³ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: $1"
    exit 1
  fi
}

echo "ğŸ› ï¸ Pre-commit checks running..."

# Lintãƒã‚§ãƒƒã‚¯
echo "ğŸ” Running lint..."
run_command "pnpm lint"

# Typeãƒã‚§ãƒƒã‚¯
echo "ğŸ” Running type-check..."
run_command "pnpm type-check"

# ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯
echo "ğŸ” Running build..."
run_command "pnpm build"

echo "âœ… å…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒæˆåŠŸã—ã¾ã—ãŸã€‚"
exit 0
